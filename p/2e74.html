<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en-US">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'X4E9IVM6ME',
      apiKey: '251967138a7ffc0abfd24ac66a0997b9',
      indexName: 'hexoblogyolanda',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="keywords" content="Node,JS,Asyn">
<meta property="og:type" content="article">
<meta property="og:title" content="Event-drive Asynochronous Programming">
<meta property="og:url" content="http://YolandaWEI.github.io/p/2e74.html">
<meta property="og:site_name" content="manuscrit">
<meta property="og:locale" content="en-US">
<meta property="og:image" content="https://pic3.zhimg.com/80/b922270259dece707ef6c6a50259a406_hd.png">
<meta property="og:image" content="https://mdn.mozillademos.org/files/15911/promises.png">
<meta property="og:updated_time" content="2018-10-15T21:55:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Event-drive Asynochronous Programming">
<meta name="twitter:image" content="https://pic3.zhimg.com/80/b922270259dece707ef6c6a50259a406_hd.png">






  <link rel="canonical" href="http://YolandaWEI.github.io/p/2e74.html"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Event-drive Asynochronous Programming | manuscrit</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en-US">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">manuscrit</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Leek in silence</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://YolandaWEI.github.io/p/2e74.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="安静的韭菜">
      <meta itemprop="description" content="但热爱折腾">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="manuscrit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Event-drive Asynochronous Programming
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-07 00:16:03" itemprop="dateCreated datePublished" datetime="2018-10-07T00:16:03+02:00">2018-10-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-10-15 23:55:07" itemprop="dateModified" datetime="2018-10-15T23:55:07+02:00">2018-10-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/uncategories/Event-drive-Asynochronous-Programming/" itemprop="url" rel="index"><span itemprop="name">Event-drive Asynochronous Programming</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p></p><p></p><br><a id="more"></a><p></p>
<h1 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h1><h2 id="Declaration-var-const-let"><a href="#Declaration-var-const-let" class="headerlink" title="Declaration: var\const\let"></a>Declaration: var\const\let</h2><p>Only use let except you know it would never change.<br>A variable declared with <code>var</code> whose scope is within the function in which the statement is located, and there is a variable promotion phenomenon;<br>A variable declared with <code>let</code> whose scope is within the code block in which the statement is located, and there is no variable promotion;<br>The use of const declares a <code>const</code>, and the value of the constant cannot be modified in the code that appears later.</p>
<h2 id="c-f"><a href="#c-f" class="headerlink" title="=== c.f. =="></a>=== c.f. ==</h2><p>Always use=== unless you have specially reason to use ==, it.<br>=== will check both value and type.</p>
<blockquote>
<p><a href="https://www.zhihu.com/question/31442029" target="_blank" rel="noopener">from Zhihu@Belleve</a><br>Red：===<br>Orange：==<br>Yellow：&lt;= and &gt;= established，== not established<br>Blue：only &gt;= established<br>Green：only &lt;= established<br><img src="https://pic3.zhimg.com/80/b922270259dece707ef6c6a50259a406_hd.png" alt="===and== from Zhihu@Belleve"></p>
</blockquote>
<h2 id="Template-String-var"><a href="#Template-String-var" class="headerlink" title="Template String ${var}"></a>Template String ${var}</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstName = <span class="string">'Jake'</span>;</span><br><span class="line"><span class="keyword">var</span> lastName = <span class="string">'Rawr'</span>;</span><br><span class="line"><span class="comment">//normal String</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'My name is '</span> + firstName + <span class="string">' '</span> + lastName);</span><br><span class="line"><span class="comment">//Template String</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Fuctions-and-arrow-funcitons"><a href="#Fuctions-and-arrow-funcitons" class="headerlink" title="Fuctions and arrow funcitons"></a>Fuctions and arrow funcitons</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fuction inc1=<span class="number">1</span>(n)&#123;</span><br><span class="line"><span class="keyword">return</span> n + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> inc2=<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;<span class="keyword">return</span> n+<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> inc3=<span class="function">(<span class="params">n</span>)=&gt;</span>&#123;<span class="keyword">return</span> n+<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> inc4=<span class="function"><span class="params">n</span>=&gt;</span>n+<span class="number">4</span></span><br><span class="line"><span class="comment">//they are all same.</span></span><br><span class="line"></span><br><span class="line">fucntion adder(inc) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function">(<span class="params">n</span>)=&gt;</span>n+inc</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> addOne=adder(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> addTwo=adder(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">let</span> a=addOne(<span class="number">5</span>)<span class="comment">//a=6</span></span><br><span class="line"><span class="keyword">let</span> b=addTwo(<span class="number">5</span>)<span class="comment">//b=7</span></span><br><span class="line"><span class="keyword">let</span> c=adder(<span class="number">2</span>)(<span class="number">1</span>)<span class="comment">//c=3 </span></span><br><span class="line"><span class="comment">//use pointers to point the functions' addres .</span></span><br></pre></td></tr></table></figure>
<h2 id="JavaScript-Scope-（作用域）-Fuction-level"><a href="#JavaScript-Scope-（作用域）-Fuction-level" class="headerlink" title="JavaScript Scope （作用域）: Fuction-level"></a>JavaScript Scope （作用域）: Fuction-level</h2><p>In JS there are two types of scope: Local scope and Global scope<br><strong>JavaScript has function scope: Each function creates a new scope.</strong> The traditional C-like language, whose scope is block-level scope, curly brackets<code>{}</code> are a scope. But for JavaScript, its scope is a function-level scope, such as an <code>if</code> conditional statement, which is not an independent scope:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Create a temporary scope from a self-executing function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (x) &#123;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// some other code</span></span><br><span class="line">&#125;());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// x is still 1.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Event-drive-and-Asynchronous"><a href="#Event-drive-and-Asynchronous" class="headerlink" title="Event-drive and Asynchronous"></a>Event-drive and Asynchronous</h2><p>There is only one main thread in JS engine. When it is executing JS code block, other code block are not allowed to be executed, but the code block of event machine and callback will be added into task queue (or called stack).This event or callback function will be executed when a trigger meet the event or callback.</p>
<h3 id="Callbacks"><a href="#Callbacks" class="headerlink" title="Callbacks"></a>Callbacks</h3><p>callbacks are historically the only way to deal with functions that return a result asynchronously.</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">Promise</a></h3><p>A Promise is in one of these states:</p>
<ul>
<li>pending: initial state, neither fulfilled nor rejected.</li>
<li>fulfilled: meaning that the operation completed successfully.</li>
<li>rejected: meaning that the operation failed.<br><img src="https://mdn.mozillademos.org/files/15911/promises.png" alt="Promise state"></li>
</ul>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Node/" rel="tag"># Node</a>
          
            <a href="/tags/JS/" rel="tag"># JS</a>
          
            <a href="/tags/Asyn/" rel="tag"># Asyn</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/p/a353.html" rel="prev" title="TP1 Mandelbrot Set Fractal">
                TP1 Mandelbrot Set Fractal <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">安静的韭菜</p>
              <p class="site-description motion-element" itemprop="description">但热爱折腾</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Syntax"><span class="nav-number">1.</span> <span class="nav-text">Syntax</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Declaration-var-const-let"><span class="nav-number">1.1.</span> <span class="nav-text">Declaration: var\const\let</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#c-f"><span class="nav-number">1.2.</span> <span class="nav-text">=== c.f. ==</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Template-String-var"><span class="nav-number">1.3.</span> <span class="nav-text">Template String ${var}</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fuctions-and-arrow-funcitons"><span class="nav-number">1.4.</span> <span class="nav-text">Fuctions and arrow funcitons</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript-Scope-（作用域）-Fuction-level"><span class="nav-number">1.5.</span> <span class="nav-text">JavaScript Scope （作用域）: Fuction-level</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Event-drive-and-Asynchronous"><span class="nav-number">1.6.</span> <span class="nav-text">Event-drive and Asynchronous</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Callbacks"><span class="nav-number">1.6.1.</span> <span class="nav-text">Callbacks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise"><span class="nav-number">1.6.2.</span> <span class="nav-text">Promise</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安静的韭菜</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
